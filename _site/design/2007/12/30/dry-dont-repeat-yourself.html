<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title> DRY - Don't Repeat Yourself </title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1> Nifty GUI </h1>
        <h2>Your Open Source Java OpenGL GUI</h2>
        <a href="https://github.com/void256/nifty-gui" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
          <h2>DRY - Don't Repeat Yourself</h2>
<p class="meta">30 Dec 2007</p>

<p> Check the following code fragment:</p>

<p><pre lang="java5">    &#47;&#47; get post mode and default to post = true, when nothing is given<br />
    boolean post = true;<br />
    if (effectType.isSetPost()) {<br />
      if (PostType.FALSE == effectType.getPost()) {<br />
        post = false;<br />
      } else if (PostType.TRUE == effectType.getPost()) {<br />
        post = true;<br />
      }<br />
    }&lt;&#47;pre&gt;<br />
Although there&#39;s no code duplicated in there (the root of all software evil), there is still some information duplicated. The comment repeats the same information as the code! And duplicate information is not good. If I want to change the default value I need to change two lines: the actual code and the comment. And maybe I forget to change one part and voila introduced inconsistence. Which comes back to me someday and is going to bite me.</p>
<p>So what to do, to make it still readable and easily changeable?</p>
<p><a id="more"></a><a id="more-7"></a></p>
<p>Just select &quot;true&quot;  and in eclipse press &quot;right mouse button&quot; &#47; refactor &#47; extract constant. Enter a name and press Return to get something like this:</p>
<pre lang="java5">  &#47;**<br />
   * default value for post&#47;pre effect state.<br />
   *&#47;<br />
  private static final boolean DEFAULT<em>EFFECT</em>POST = true;</p>
<p>  &#47;&#47; get post mode<br />
  boolean post = DEFAULT<em>EFFECT</em>POST;<br />
  if (effectType.isSetPost()) {<br />
  ...&lt;&#47;pre&gt;<br />
<strong>Wow! Clean, Readable, Changeable!&lt;&#47;strong&gt;</p>
<p>Good Code :)</p></p>



        </section>

        <aside id="sidebar">
          <a href="https://github.com/void256/nifty-gui/archive/gh-pages.zip" class="button">
            <small>Download</small>
            .zip file
          </a>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
