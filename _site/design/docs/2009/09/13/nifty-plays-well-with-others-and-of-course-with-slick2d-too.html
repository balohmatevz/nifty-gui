<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title> Nifty plays well with others and of course with slick2d too </title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1> Nifty GUI </h1>
        <h2>Your Open Source Java OpenGL GUI</h2>
        <a href="https://github.com/void256/nifty-gui" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
          <h2>Nifty plays well with others and of course with slick2d too</h2>
<p class="meta">13 Sep 2009</p>

<p>Nifty can be used as a standalone GUI. So when your game enters its menu or option screens Nifty is all there is on the screen and all user input is handled by Nifty.</p>

<p>When using Nifty together with Slick2d this is represented by the NiftyGameState class. Using this class your Slick2d StateBasedGame can easliy switch from your in game state to the NiftyGameState and display the GUI.</p>

<p><strong>But<&#47;strong> this is not the only way Nifty can be used. You can easily use Nifty to render your in-game GUI too! Nifty plays well with others (as long as they use OpenGL&#47;lwjgl for rendering that is).</p>

<p>It's not complicated at all and I wanted to write example code that demonstrates how easy it is for a long time. Motivated by a question at the <a title="Nifty Forum at sourceforge.net" href="http:&#47;&#47;sourceforge.net&#47;projects&#47;nifty-gui&#47;forums&#47;forum&#47;807893">Nifty Forum at souceforge.net<&#47;a> I did now :)</p>

<p>What's demonstrated in the new slick example is, how you can use Nifty to render a GUI on top of a normal slick GameState.</p>

<p>Here is a screenshot of the example which renderes Text from within Slick that changes color when you press the keys 1-3. On top of this it renders a Nifty GUI that responds to mouse events. Additionally if you press 1-3 the colored Nifty boxes start to shake :D</p>

<p>[caption id="attachment_92" align="aligncenter" width="300" caption="Slick Overlay with Nifty GUI"]<a href="http:&#47;&#47;nifty-gui.lessvoid.com&#47;wp-content&#47;2009&#47;09&#47;bildschirmfoto-2009-09-13-um-145515.png"><img class="size-medium wp-image-92" title="Slick Overlay with Nifty GUI" src="http:&#47;&#47;nifty-gui.lessvoid.com&#47;wp-content&#47;2009&#47;09&#47;bildschirmfoto-2009-09-13-um-145515-300x225.png" alt="Slick Overlay with Nifty GUI" width="300" height="225" &#47;><&#47;a>[&#47;caption]</p>

<p>You can try it out with the Webstart:</p>

<p><a href="http:&#47;&#47;nifty-gui.sourceforge.net&#47;webstart&#47;nifty-slick-overlay-demo.jnlp">http:&#47;&#47;nifty-gui.sourceforge.net&#47;webstart&#47;nifty-slick-overlay-demo.jnlp<&#47;a></p>

<p>and you can find the example in svn or you can browse it online here:</p>

<p><a href="http:&#47;&#47;nifty-gui.svn.sourceforge.net&#47;viewvc&#47;nifty-gui&#47;nifty-examples&#47;trunk&#47;src&#47;main&#47;java&#47;de&#47;lessvoid&#47;nifty&#47;examples&#47;slick&#47;niftyoverlay&#47;">http:&#47;&#47;nifty-gui.svn.sourceforge.net&#47;viewvc&#47;nifty-gui&#47;nifty-examples&#47;trunk&#47;src&#47;main&#47;java&#47;de&#47;lessvoid&#47;nifty&#47;examples&#47;slick&#47;niftyoverlay&#47;<&#47;a> (Java classes)</p>

<p><a href="http:&#47;&#47;nifty-gui.svn.sourceforge.net&#47;viewvc&#47;nifty-gui&#47;nifty-examples&#47;trunk&#47;src&#47;main&#47;resources&#47;slick&#47;niftyoverlay&#47;overlay.xml?revision=534&amp;view=markup">http:&#47;&#47;nifty-gui.svn.sourceforge.net&#47;viewvc&#47;nifty-gui&#47;nifty-examples&#47;trunk&#47;src&#47;main&#47;resources&#47;slick&#47;niftyoverlay&#47;overlay.xml?revision=534&amp;view=markup<&#47;a> (Nifty XML for the Screen - overlay.xml)</p>

<p>Keep reading the full Article to see the details on how we get this to work and what you need to consider.</p>

<p><a id="more"></a><a id="more-91"></a></p>

<p>The way it works is pretty easy and it even works with anything you've rendered in lwjgl. Slick is not required but as shown it works very well with Slick too.</p>

<p>So you just need to:</p>

<p><ol>
<li> <strong>Save your current OpenGL-State and enable 2d Mode&lt;&#47;strong&gt;<br />
You have to make sure you save your current OpenGL state and make sure you are in 2d &quot;mode&quot; before calling Nifty. Which means that everything is setup for 2d OpenGL rendering (orthogonal projection, modelview matrix aligned with the screen, etc. In Slick this is all handled by a single call to SlickCallable.enterSafeBlock(). This makes sure that the current Slick state is saved and changes in Slick or Nifty don&#39;t disturb each other (we&#39;re already in 2d mode too because of slick).&lt;&#47;li&gt;</p>
<li><strong>Call Nifty to render its GUI&lt;&#47;strong&gt;<br />
You call Nifty.render() to render the Nifty GUI. You can call render() with a boolean parameter that tells Nifty to clear the screen (parameter = true) or if it should not clear the screen at all (parameter = false). If you are rendering an overlay you probably want to leave the screen as is and render your GUI on top. So in this case simply call nifty.render(false).&lt;&#47;li&gt;</p>
<li><strong>Restore your State and continue your own Rendering&lt;&#47;strong&gt;<br />
When nifty.render() returns you can reset your state so that you can continue rendering 3d triangles or whatever you want to render on top (!) of Nifty GUI. Again in Slick this is a single SlickCallable.leaveSafeBlock() call.&lt;&#47;li&gt;</p>
<li><strong>Forward KeyEvents&lt;&#47;strong&gt;<br />
You decide if keyEvents get past through to Nifty by calling nifty.keyEvent() with the events you want that Nifty gets. If you don&#39;t call keyEvent() no key events will get to Nifty what might or might not be what you want.&lt;&#47;li&gt;</p>
<li><strong>Forward MouseEvents&lt;&#47;strong&gt;<br />
Handling mouse events are a bit trickier because they are handled through the InputSystem interface which you need to call the Nifty constructor with. But creating an implementation of the InputSystem is easy because at the moment it only consists of one method that Nifty uses to request a List of current available MouseEvents. So you&#39;re implementation can decide when and what mouse events get through to Nifty in the InputSystem-Implementation.&lt;&#47;li&gt;<br />
&lt;&#47;ol&gt;<br />
The example in nifty-examples svn demonstrates how to forward MouseEvents but does not care about keyboard Events.</p>
<p>And that&#39;s it! Nifty GUI playing together with others! Nifty! :D</p>
<p>void</p></p>



        </section>

        <aside id="sidebar">
          <a href="https://github.com/void256/nifty-gui/archive/gh-pages.zip" class="button">
            <small>Download</small>
            .zip file
          </a>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
