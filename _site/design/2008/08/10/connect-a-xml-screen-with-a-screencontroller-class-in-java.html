<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title> Connect a xml screen with a ScreenController class in java </title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1> Nifty GUI </h1>
        <h2>Your Open Source Java OpenGL GUI</h2>
        <a href="https://github.com/void256/nifty-gui" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
          <h2>Connect a xml screen with a ScreenController class in java</h2>
<p class="meta">10 Aug 2008</p>

<p>Nifty GUI uses XML to store the layout of your GUI. To connect such a XML description with some class in Java there is the ScreenController Interface you need to provide:</p>

<p><pre lang="java5">&#47;<strong><br />
&nbsp;* ScreenController Interface all screen controllers should support.<br />
&nbsp;* @author void<br />
&nbsp;*&#47;<br />
public interface ScreenController {<br />
  &#47;</strong><br />
&nbsp;  * Bind this ScreenController to a screen. This happens<br />
&nbsp;  * when the Screen got the onStartScreen() method.<br />
&nbsp;  * @param nifty nifty<br />
&nbsp;  * @param screen screen<br />
&nbsp;  <em>&#47;<br />
&nbsp; void bind(Nifty nifty, Screen screen);</p>
<p>  &#47;</em><em><br />
&nbsp;  * called when all start effects are ended and the screen<br />
&nbsp;  * is ready for interactive manipulation.<br />
&nbsp;  *&#47;<br />
&nbsp; void onStartScreen();</p>
<p>  &#47;</em><em><br />
&nbsp;  * called when the onEndScreen effects ended and this screen is done.<br />
&nbsp;  *&#47;<br />
&nbsp; void onEndScreen();<br />
}&lt;&#47;pre&gt;</p>
<p>To let Nifty know what ScreenController class you want to use for a Nifty Screen there is the &quot;controller&quot; attribute on the <screen> xml tag:</p>
<pre lang="xml">...<br />
<nifty><br />
  <screen id="start" controller="com.mypackage.HelloWorldStartScreen"><br />
  ...<br />
  &lt;&#47;screen&gt;<br />
&lt;&#47;nifty&gt;&lt;&#47;pre&gt;</p>
<p>To resolve the concrete ScreenController instance Nifty can use two different ways:</p>
<ol>
<li>Nifty creates a new instance of the given ScreenController class and registers this instance with the Screen&lt;&#47;li&gt;
<li>You can give Nifty a ScreenController instance that matches the class given in the controller attribute. Nifty will first look for an existing instance and creates a new class only when it can&#39;t find one.&lt;&#47;li&gt;<br />
&lt;&#47;ol&gt;</p>
<p>To register ScreenController instances with Nifty there are additional parameters on the &quot;fromXml()&quot; method of the Nifty class. This way you can even add multiple different instances for use in multiple Nifty screens.</p>
<pre lang="java5">  &#47;</em>*<br />
   * load xml.<br />
   * @param filename file to load<br />
   * @param controllers controllers to use<br />
   *&#47;<br />
  public void fromXml(final String filename, final ScreenController ... controllers) {<br />
...&lt;&#47;pre&gt;</p>
<p><strong>Note: &lt;&#47;strong&gt;You still need the controller attribute in the xml so that Nifty can connect the screen with your ScreenController instance.</p>
<p><strong>Note: &lt;&#47;strong&gt;In case you use anonymous inner classes like in this example here:</p>
<pre lang="java5">class MyStuff {<br />
...<br />
nifty.fromXml(&quot;menu.xml&quot;, new ScreenController() {<br />
    public void bind(Nifty nifty, Screen screen) {<br />
...&lt;&#47;pre&gt;</p>
<p>the classname then turns to &quot;MyStuff$1&quot;.</p></p>



        </section>

        <aside id="sidebar">
          <a href="https://github.com/void256/nifty-gui/archive/gh-pages.zip" class="button">
            <small>Download</small>
            .zip file
          </a>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
