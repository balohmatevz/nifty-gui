<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title> New Feature - Keyframes for Nifty Effects </title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1> Nifty GUI </h1>
        <h2>Your Open Source Java OpenGL GUI</h2>
        <a href="https://github.com/void256/nifty-gui" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          
          <h2>New Feature - Keyframes for Nifty Effects</h2>
<p class="meta">27 Oct 2009</p>

<p>Well, I'm currently rewriting the old Nifty Introduction Demonstration that somehow didn't survive my last blog server switch :( It was <a href="http:&#47;&#47;nifty-gui.lessvoid.com&#47;archives&#47;9">posted right here<&#47;a> but the jnlp disappear. The demo explained some basic concepts of Nifty and it was written in Nifty :) I'm rewritting it now to update it to the current Nifty Standards.</p>

<p>In the process I just want a moving Nifty GUI Logo like this one</p>

<p><a href="http:&#47;&#47;nifty-gui.lessvoid.com&#47;wp-content&#47;2009&#47;10&#47;tutorial-intro.gif"><img class="alignnone size-medium wp-image-109" title="tutorial-intro" src="http:&#47;&#47;nifty-gui.lessvoid.com&#47;wp-content&#47;2009&#47;10&#47;tutorial-intro.gif" alt="" width="128" height="96" &#47;><&#47;a></p>

<p>So the logo should resize while fading in and keep on resizing while fading out.</p>

<p><a id="more"></a><a id="more-108"></a><br />
My first try was this xml (only the resizing part is shown with the "imageSize" effect attached to "onStartScreen"):</p>

<p><pre lang="xml"><onStartScreen name="imageSize" startSize="0.7" endSize="1.0" time="600" neverStopRendering="true" &#47;><br />
<onStartScreen name="imageSize" startSize="1.0" endSize="1.3" time="600" neverStopRendering="true" startDelay="600" &#47;><br />
&lt;&#47;pre&gt;</p>
<p>Which was reasonable but doesn&#39;t work. It doesn&#39;t work because effects with a startDelay are in fact already active. In this case the second onStartScreen imageSize effect overwrites the first one with it&#39;s intial startSize of 1.0 for the time the startDelay is active. Which, yeah, makes sense for most effects but sucks in this case.</p>
<p>What I&#39;d really want to write is this instead:</p>
<pre lang="xml"><onStartScreen name="imageSize" neverStopRendering="true"><br />
  <value time="0" value="0.7" &#47;><br />
  <value time="600" value="1.0" &#47;><br />
  <value time="1200" value="1.3" &#47;><br />
&lt;&#47;onStartScreen&gt;&lt;&#47;pre&gt;</p>
<p>Well, and now you can actually write it like this! :D</p>
<p>What this does is performing linear interpolation for of the given values. In the example above the value for the imageSize effect starts with 0.7 and changes to 1.0 over a time of 600ms. After that it continues to be interpolated from 1.0 to 1.3 for the next 600ms. When value tags are present they will overwrite the length parameter of the effect. So in the example the imageSize effect will last for 1200ms.</p>
<p>I&#39;ve just commited this to svn. It is still work in progress and is therefore only available for the &quot;imageSize&quot; and the &quot;fade&quot; effect. I&#39;m currently thinking about extending it to other effects where it is appropriate. I&#39;m also considering to not only interpolate float values but to make it more general and the actual values are effect specific, so that you could interpolate color values for instance.</p>
<p>void</p></p>



        </section>

        <aside id="sidebar">
          <a href="https://github.com/void256/nifty-gui/archive/gh-pages.zip" class="button">
            <small>Download</small>
            .zip file
          </a>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  </body>
</html>
